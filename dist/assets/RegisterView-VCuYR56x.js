import{u as b,a as f,r as u,h as _,o as g,b as h,d as e,e as p,w as a,v as n,j as y}from"./index-BIfDqfYB.js";const w={class:"bg-light"},x={class:"container vh-100"},k={class:"row justify-content-center align-items-center h-100"},q={class:"col-auto"},U={class:"card shadow"},V={class:"card-body p-4"},S={class:"mb-4"},L=e("h5",{class:"card-title"},"Создать учетную запись",-1),D={class:"d-flex align-items-center flex-nowrap card-subtitle gap-1"},j=e("span",null,"или",-1),B={class:"mb-3"},C=e("label",{for:"name",class:"form-label label-required"},"Имя",-1),N={class:"mb-3"},P=e("label",{for:"login",class:"form-label label-required"},"Логин",-1),F={class:"mb-3"},I=e("label",{for:"phone",class:"form-label label-required"},"Номер телефона",-1),J={class:"mb-3"},M=e("label",{for:"email",class:"form-label label-required"},"Электронная почта",-1),O={class:"mb-4"},R=e("label",{for:"password",class:"form-label label-required"},"Пароль",-1),$=e("h5",{class:"card-title mb-4"},"Пользователь зарегистрирован",-1),z={__name:"RegisterView",setup(E){const d=b(),c=f();c.getUsers();const l=u(null),m={name:"",login:"",position:"",telegram:"",phone:"",email:"",password:"",photo:"defaultPhoto.jpg"},t=_({name:"",login:"",position:"",telegram:"",phone:"",email:"",password:"",photo:"defaultPhoto.jpg"}),r=u(null);function v(){if(!l.value.checkValidity())event.preventDefault(),event.stopPropagation(),l.value.classList.add("was-validated");else{l.value.classList.add("was-validated");const i=JSON.parse(localStorage.getItem("users"));i.push({...t,regDate:new Date}),localStorage.setItem("users",JSON.stringify(i)),c.usersList=i,l.value.reset(),t.value=m,l.value.classList.remove("was-validated"),l.value.classList.remove("d-flex"),l.value.style.display="none",r.value.classList.remove("d-none"),r.value.style.display="block"}}return(i,s)=>(g(),h("main",w,[e("div",x,[e("div",k,[e("div",q,[e("div",U,[e("div",V,[e("form",{ref_key:"regForm",ref:l,class:"d-flex flex-column"},[e("div",S,[L,e("div",D,[j,e("button",{type:"button",class:"btn btn-link p-0 text-decoration-none",onClick:s[0]||(s[0]=o=>p(d).push("/login"))}," войти в личный кабинет ")])]),e("div",B,[C,a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.name=o),type:"text",class:"form-control",id:"name",required:""},null,512),[[n,t.name]])]),e("div",N,[P,a(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.login=o),type:"text",class:"form-control",id:"login",required:""},null,512),[[n,t.login]])]),e("div",F,[I,a(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>t.phone=o),class:"form-control",id:"phone",required:""},null,512),[[n,t.phone]])]),e("div",J,[M,a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>t.email=o),type:"email",class:"form-control",id:"email",required:""},null,512),[[n,t.email]])]),e("div",O,[R,a(e("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>t.password=o),type:"password",class:"form-control",id:"password",required:""},null,512),[[n,t.password]])]),e("button",{onClick:y(v,["prevent"]),type:"submit",class:"btn btn-primary"},"Подтвердить")],512),e("div",{ref_key:"registerSuccess",ref:r,class:"d-none"},[$,e("button",{type:"button",class:"btn btn-primary",onClick:s[6]||(s[6]=o=>p(d).push("/login"))},"Войти в личный кабинет")],512)])])])])])]))}};export{z as default};
